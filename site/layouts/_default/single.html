{{ define "main" }}
    {{ partial "page-header.html" (dict "contentType" .Type "pageTitle" .Params.title "author" .Params.author "desc" .Params.description "tags" .Params.tags "pageresources" .Params.pageresources "publishDate" .Date "content1" .Params.featuretext "numberOfWords" .WordCount "readingTime1" .ReadingTime) }}  
    

    <main class="page-main" id="main-content">
        <article class="page-main-content">
            
            <section class="page-main__content">
                {{.Content}}
            </section>
            
            {{ if eq .Type "projects" }}
                <section class="page-main__latest-articles">
                    {{ $pages := where $.Site.RegularPages "Type" "in" "projects" }}
                    <h1 class="page-main__title project">Latest project updates</h1>
                    <ul class="reset-list">
                        {{ range first 5 $pages }}
                            {{ partial "cards/defaultCard.html" . }}
                        {{ end }}
                    </ul>
                </section>
            {{ end }}

            {{ if eq .Type "til" }}
                <section class="page-main__latest-articles">
                    {{ $pages := where $.Site.RegularPages "Type" "in" "til" }}
                    <h1 class="page-main__title til">Latest posts in TIL</h1>
                    <ul class="reset-list">
                        {{ range first 3 $pages }}
                            {{ partial "cards/defaultCard.html" . }}
                        {{ end }}
                    </ul>
                </section>
            {{ end }}

            <section class="read-next-card">
                {{ if eq .Type "til" }}
                    {{- partial "read-next-til.html" . -}}
                {{ end }}

                {{ if eq .Type "projects" }}
                    {{- partial "read-next-projects.html" . -}}
                {{ end }}
            </section>

            <section class="page-main__navigation">
                <h1 class="page-main__title project">Navigation</h1>
                {{if .PrevInSection}}
                    <a href={{.PrevInSection.Permalink}}>Prev in current section: {{.PrevInSection.Title}}</a>
                {{end}}
                <br >
                {{if .NextInSection}}
                    <a href={{.Permalink}}>Next in current section: {{.NextInSection.Title}}</a>
                {{end}}
                <br />
                {{if .PrevPage}}
                    <a href={{.PrevPage.Permalink}}>Prev: {{.PrevPage.Title}}</a>
                {{end}}
                <br />
                {{if .NextPage}}
                    <a href={{.NextPage.Permalink}}>Next: {{.NextPage.Title}}</a>
                {{end}}
            </section>
            
        </article>
    </main>
{{ end }}

